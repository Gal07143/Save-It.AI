# Mosquitto MQTT Broker Configuration for Save-It.AI
# https://mosquitto.org/man/mosquitto-conf-5.html

# ==========================================================================
# Listeners
# ==========================================================================
listener 1883
protocol mqtt

# TLS listener (uncomment and configure certs for production)
# listener 8883
# protocol mqtt
# cafile /mosquitto/config/ca.crt
# certfile /mosquitto/config/server.crt
# keyfile /mosquitto/config/server.key
# require_certificate false

# ==========================================================================
# Authentication
# ==========================================================================
# Allow anonymous connections for development.
# For production, set to false and configure password_file.
allow_anonymous true

# Uncomment for production authentication:
# allow_anonymous false
# password_file /mosquitto/config/passwd

# ==========================================================================
# Authorization (ACL)
# ==========================================================================
# Uncomment for production topic-level authorization:
# acl_file /mosquitto/config/acl

# ==========================================================================
# Persistence
# ==========================================================================
persistence true
persistence_location /mosquitto/data/

# ==========================================================================
# Logging
# ==========================================================================
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
connection_messages true
log_timestamp true

# ==========================================================================
# Performance
# ==========================================================================
max_queued_messages 10000
max_inflight_messages 100
message_size_limit 262144
